<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown ÈòÖËØªÂô®</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/lib/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/github-dark.min.css">
    <!-- Iconfont CSS -->
    <link rel="stylesheet" href="iconfont/iconfont.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* IconfontÂü∫Á°ÄÊ†∑Âºè */
        .iconfont {
            font-family: "iconfont" !important;
            font-size: 16px;
            font-style: normal;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            display: inline-block;
            vertical-align: middle;
        }

        /* ÂõæÊ†áÂ∞∫ÂØ∏ */
        .icon-xs { font-size: 12px; }
        .icon-sm { font-size: 14px; }
        .icon-md { font-size: 16px; }
        .icon-lg { font-size: 20px; }
        .icon-xl { font-size: 24px; }
        }

        :root {
            --sidebar-width: 280px;
            --header-height: 60px;
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --bg-dark: #1a1a2e;
            --bg-sidebar: #16213e;
            --bg-editor: #0f3460;
            --text-primary: #eaeaea;
            --text-secondary: #a0a0a0;
            --border-color: #2d3748;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            display: flex;
            height: 100vh;
        }

        /* ‰æßËæπÊ†è */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--bg-sidebar);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-title {
            font-size: 1.3rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .sidebar-actions {
            display: flex;
            gap: 8px;
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 8px;
            background: var(--bg-editor);
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-size: 1.1rem;
        }

        .btn-icon:hover {
            background: var(--primary-color);
            transform: translateY(-2px);
        }

        .file-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }

        .file-item {
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            margin-bottom: 5px;
        }

        .file-item:hover {
            background: var(--bg-editor);
        }

        .file-item.active {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        }

        .file-icon {
            font-size: 1.2rem;
        }

        .file-name {
            flex: 1;
            font-size: 0.95rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .file-actions {
            display: none;
            gap: 5px;
        }

        .file-item:hover .file-actions {
            display: flex;
        }

        .file-item.active .file-actions {
            display: flex;
        }

        .btn-small {
            width: 24px;
            height: 24px;
            border: none;
            border-radius: 4px;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .btn-small:hover {
            background: rgba(255,255,255,0.3);
        }

        /* ‰∏ªÂÜÖÂÆπÂå∫ */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* È°∂ÈÉ®Â∑•ÂÖ∑Ê†è */
        .toolbar {
            height: var(--header-height);
            background: var(--bg-sidebar);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        .toolbar-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .toolbar-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .menu-toggle {
            display: none;
            width: 40px;
            height: 40px;
            border: none;
            background: transparent;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .view-modes {
            display: flex;
            background: var(--bg-editor);
            border-radius: 8px;
            padding: 4px;
        }

        .view-mode-btn {
            padding: 8px 16px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .view-mode-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .view-mode-btn:hover:not(.active) {
            color: var(--text-primary);
        }

        /* ÁºñËæëÂô®Âå∫Âüü */
        .editor-container {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .editor-pane {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .editor-header {
            padding: 10px 20px;
            background: var(--bg-editor);
            border-bottom: 1px solid var(--border-color);
            font-size: 0.85rem;
            color: var(--text-secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-textarea {
            flex: 1;
            width: 100%;
            padding: 20px;
            background: var(--bg-dark);
            color: var(--text-primary);
            border: none;
            resize: none;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 15px;
            line-height: 1.6;
            outline: none;
        }

        .preview-pane {
            flex: 1;
            background: white;
            overflow-y: auto;
            display: none;
        }

        .preview-pane.active {
            display: block;
        }

        .preview-content {
            padding: 40px;
            max-width: 900px;
            margin: 0 auto;
            color: #333;
            line-height: 1.8;
        }

        /* Markdown È¢ÑËßàÊ†∑Âºè */
        .preview-content h1 {
            color: #2c3e50;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 15px;
            margin: 30px 0 25px;
            font-size: 2.2rem;
        }

        .preview-content h2 {
            color: #34495e;
            margin: 30px 0 20px;
            font-size: 1.8rem;
            border-left: 5px solid var(--primary-color);
            padding-left: 15px;
        }

        .preview-content h3 {
            color: #555;
            margin: 25px 0 15px;
            font-size: 1.4rem;
        }

        .preview-content p {
            margin-bottom: 15px;
            text-align: justify;
        }

        .preview-content code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            font-size: 0.9em;
            color: #e74c3c;
        }

        .preview-content pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
        }

        .preview-content pre code {
            background: transparent;
            color: inherit;
            padding: 0;
        }

        .preview-content blockquote {
            border-left: 4px solid var(--primary-color);
            background: #f8f9fa;
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
            color: #555;
        }

        .preview-content ul, .preview-content ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        .preview-content li {
            margin-bottom: 8px;
        }

        .preview-content a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .preview-content a:hover {
            text-decoration: underline;
        }

        .preview-content img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
        }

        .preview-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .preview-content th, .preview-content td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        .preview-content th {
            background: #f8f9fa;
            font-weight: 600;
        }

        .preview-content hr {
            border: none;
            border-top: 2px solid #eee;
            margin: 30px 0;
        }

        /* ===== ‰∏ªÈ¢òÊ†∑Âºè ===== */
        
        /* ‰∏ªÈ¢ò1: ÁÆÄÁ∫¶ÈÄöÁî®Âûã */
        .theme-simple .preview-content {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', sans-serif;
            line-height: 1.8;
            color: #333;
        }

        .theme-simple .preview-content h1 {
            color: #2c3e50;
            font-size: 2rem;
            font-weight: 600;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 15px;
            margin: 40px 0 25px;
        }

        .theme-simple .preview-content h2 {
            color: #34495e;
            font-size: 1.6rem;
            font-weight: 600;
            margin: 35px 0 20px;
            padding: 0;
            border: none;
        }

        .theme-simple .preview-content h3 {
            color: #555;
            font-size: 1.3rem;
            font-weight: 600;
            margin: 25px 0 15px;
        }

        .theme-simple .preview-content p {
            margin-bottom: 18px;
            line-height: 1.9;
        }

        .theme-simple .preview-content blockquote {
            border-left: 3px solid #ddd;
            background: #fafafa;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0;
            color: #666;
        }

        .theme-simple .preview-content code {
            background: #f5f5f5;
            color: #666;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.9em;
        }

        /* ‰∏ªÈ¢ò2: ÊñáËâ∫Ê∏ÖÊñ∞Âûã */
        .theme-literary .preview-content {
            font-family: 'Georgia', 'Times New Roman', serif;
            line-height: 2;
            color: #4a4a4a;
            background: #fefefe;
        }

        .theme-literary .preview-content h1 {
            color: #5d6d7e;
            font-size: 2rem;
            font-weight: 400;
            text-align: center;
            border-bottom: 1px solid #e8e8e8;
            padding-bottom: 20px;
            margin: 40px 0 30px;
            font-family: 'Georgia', serif;
        }

        .theme-literary .preview-content h2 {
            color: #6c7a89;
            font-size: 1.5rem;
            font-weight: 400;
            margin: 35px 0 20px;
            padding-left: 15px;
            border-left: 2px solid #a3b1c0;
        }

        .theme-literary .preview-content h3 {
            color: #7f8c8d;
            font-size: 1.2rem;
            font-weight: 400;
            margin: 25px 0 15px;
            font-style: italic;
        }

        .theme-literary .preview-content p {
            margin-bottom: 20px;
            text-indent: 2em;
        }

        .theme-literary .preview-content blockquote {
            border: none;
            background: #f9f9f7;
            padding: 25px 30px;
            margin: 25px 0;
            border-radius: 8px;
            font-style: italic;
            color: #666;
            position: relative;
        }

        .theme-literary .preview-content blockquote::before {
            content: '"';
            font-size: 3rem;
            color: #d5dbdb;
            position: absolute;
            top: 10px;
            left: 15px;
            font-family: Georgia, serif;
        }

        .theme-literary .preview-content code {
            background: #f0f0ee;
            color: #5d6d7e;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
        }

        /* ‰∏ªÈ¢ò3: ÂïÜÂä°Â§ßÊ∞îÂûã */
        .theme-business .preview-content {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.7;
            color: #2c3e50;
        }

        .theme-business .preview-content h1 {
            color: #1a5490;
            font-size: 2rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-bottom: 3px solid #1a5490;
            padding-bottom: 15px;
            margin: 35px 0 25px;
        }

        .theme-business .preview-content h2 {
            color: #2c3e50;
            font-size: 1.5rem;
            font-weight: 600;
            margin: 30px 0 20px;
            padding: 12px 15px;
            background: #ecf0f1;
            border-left: 4px solid #1a5490;
        }

        .theme-business .preview-content h3 {
            color: #34495e;
            font-size: 1.2rem;
            font-weight: 600;
            margin: 25px 0 15px;
            border-bottom: 1px solid #bdc3c7;
            padding-bottom: 8px;
        }

        .theme-business .preview-content p {
            margin-bottom: 15px;
            text-align: justify;
        }

        .theme-business .preview-content blockquote {
            background: #1a5490;
            color: white;
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 0;
            border-left: none;
            font-style: normal;
        }

        .theme-business .preview-content code {
            background: #e8f4f8;
            color: #1a5490;
            padding: 3px 8px;
            border-radius: 3px;
            font-weight: 600;
        }

        .theme-business .preview-content table th {
            background: #1a5490;
            color: white;
        }

        /* ‰∏ªÈ¢ò4: Ê¥ªÊ≥ºÂç°ÈÄöÈ£é */
        .theme-cartoon .preview-content {
            font-family: 'Comic Sans MS', 'Chalkboard SE', 'Marker Felt', sans-serif;
            line-height: 1.9;
            color: #5d4e6d;
            background: linear-gradient(135deg, #fff5f5 0%, #f0f8ff 100%);
            padding: 40px;
            border-radius: 20px;
        }

        .theme-cartoon .preview-content h1 {
            color: #ff6b6b;
            font-size: 2.2rem;
            font-weight: 700;
            text-align: center;
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            padding: 20px 30px;
            border-radius: 50px;
            margin: 30px 0 25px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.2);
        }

        .theme-cartoon .preview-content h2 {
            color: #fd79a8;
            font-size: 1.6rem;
            font-weight: 700;
            margin: 30px 0 20px;
            padding: 10px 20px;
            background: #dfe6e9;
            border-radius: 25px;
            display: inline-block;
        }

        .theme-cartoon .preview-content h3 {
            color: #e17055;
            font-size: 1.3rem;
            font-weight: 600;
            margin: 20px 0 15px;
        }

        .theme-cartoon .preview-content p {
            margin-bottom: 18px;
            background: white;
            padding: 15px 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .theme-cartoon .preview-content blockquote {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border: 3px dashed #fdcb6e;
            padding: 25px;
            margin: 20px 0;
            border-radius: 20px;
            font-style: normal;
            color: #6c5ce7;
        }

        .theme-cartoon .preview-content code {
            background: #ffeaa7;
            color: #d63031;
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 600;
        }

        .theme-cartoon .preview-content ul li::marker {
            color: #fd79a8;
            font-size: 1.2em;
        }

        /* ÁºñËæëÊ®°Âºè - Âè™ÊòæÁ§∫ÁºñËæëÂô® */
        .edit-mode .editor-pane {
            width: 100%;
            display: flex;
        }

        .edit-mode .preview-pane {
            display: none;
        }

        /* ÂàÜÊ†èÊ®°Âºè - ÁºñËæëÂíåÈ¢ÑËßàÂêÑ50% */
        .split-mode .editor-pane {
            width: 50%;
            border-right: 1px solid var(--border-color);
            display: flex;
        }

        .split-mode .preview-pane {
            display: block;
            width: 50%;
        }

        /* È¢ÑËßàÊ®°Âºè - Âè™ÊòæÁ§∫È¢ÑËßà */
        .preview-mode .editor-pane {
            display: none;
        }

        .preview-mode .preview-pane {
            display: block;
            width: 100%;
        }

        /* Ê®°ÊÄÅÊ°Ü */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg-sidebar);
            border-radius: 16px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .modal-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-editor);
            color: var(--text-primary);
            font-size: 1rem;
            margin-bottom: 20px;
            outline: none;
        }

        .modal-input:focus {
            border-color: var(--primary-color);
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn {
            padding: 10px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: var(--bg-editor);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background: var(--border-color);
        }

        /* Ê®°ÊùøÁΩëÊ†ºÊ†∑Âºè */
        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .template-card {
            background: var(--bg-editor);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .template-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .template-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .template-name {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .template-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* ÊªöÂä®Êù°Ê†∑Âºè */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        /* Á©∫Áä∂ÊÄÅ */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-secondary);
            text-align: center;
            padding: 40px;
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-text {
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .empty-hint {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Toast ÊèêÁ§∫ */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #333;
            color: white;
            padding: 14px 28px;
            border-radius: 50px;
            font-size: 0.95rem;
            opacity: 0;
            transition: all 0.3s;
            z-index: 2000;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* ÂìçÂ∫îÂºè */
        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                height: 100vh;
                z-index: 100;
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .menu-toggle {
                display: block;
            }

            .split-mode .editor-pane,
            .split-mode .preview-pane {
                width: 100%;
            }

            .split-mode .preview-pane {
                display: none;
            }

            .preview-content {
                padding: 20px;
            }
        }

        /* Êñá‰ª∂ÂØºÂÖ• */
        .file-input {
            display: none;
        }

        /* È°∂ÈÉ®‰∏ªÈ¢òÂàáÊç¢Âô® - ÊîæÂú®toolbar */
        .toolbar-theme {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: 15px;
            padding-left: 15px;
            border-left: 1px solid var(--border-color);
        }

        .toolbar-theme-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .toolbar-theme-options {
            display: flex;
            gap: 6px;
        }

        .toolbar-theme-btn {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toolbar-theme-btn:hover {
            transform: scale(1.2);
        }

        .toolbar-theme-btn.active {
            border-color: white;
            box-shadow: 0 0 0 2px var(--primary-color);
        }

        /* ÂèØÊäòÂè†Ê®°ÊùøÊ†è */
        .template-bar-wrapper {
            background: var(--bg-sidebar);
            border-bottom: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .template-bar-wrapper.collapsed {
            max-height: 44px;
            overflow: hidden;
        }

        .template-bar-wrapper.expanded {
            max-height: 300px;
        }

        .template-bar-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 20px;
            cursor: pointer;
            transition: background 0.3s;
            user-select: none;
        }

        .template-bar-header:hover {
            background: rgba(255,255,255,0.05);
        }

        .template-bar-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .template-bar-toggle {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .template-bar-wrapper.expanded .template-bar-toggle {
            transform: rotate(180deg);
        }

        /* È°∂ÈÉ®Ê®°ÊùøÈÄâÊã©Êù° */
        .template-bar {
            background: var(--bg-sidebar);
            border-bottom: 1px solid var(--border-color);
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            overflow-x: auto;
            white-space: nowrap;
        }

        .template-bar-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 600;
            flex-shrink: 0;
        }

        .template-chips {
            display: flex;
            gap: 10px;
            flex-wrap: nowrap;
        }

        .template-chip {
            padding: 8px 16px;
            background: var(--bg-editor);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            color: var(--text-primary);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
            flex-shrink: 0;
        }

        .template-chip:hover {
            background: var(--primary-color);
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .template-chip.active {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-color: transparent;
        }

        .template-chip-icon {
            font-size: 1rem;
        }

        /* ‰∏ªÈ¢òÂàáÊç¢Âô® */
        .theme-selector {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: auto;
            padding-left: 20px;
            border-left: 1px solid var(--border-color);
        }

        .theme-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .theme-options {
            display: flex;
            gap: 8px;
        }

        .theme-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .theme-btn:hover {
            transform: scale(1.1);
        }

        .theme-btn.active {
            border-color: white;
            box-shadow: 0 0 0 2px var(--primary-color);
        }

        .theme-btn::after {
            content: attr(data-name);
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            color: var(--text-secondary);
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .theme-btn:hover::after {
            opacity: 1;
        }

        .theme-simple-btn {
            background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
        }

        .theme-literary-btn {
            background: linear-gradient(135deg, #f9f9f7 0%, #e8e8e8 100%);
        }

        .theme-business-btn {
            background: linear-gradient(135deg, #1a5490 0%, #2980b9 100%);
        }

        .theme-cartoon-btn {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- ‰æßËæπÊ†è -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">
                    <span>üìÑ</span>
                    <span>Markdown ÈòÖËØªÂô®</span>
                </div>
                <div class="sidebar-actions">
                    <button class="btn-icon" onclick="createNewFile()" title="Êñ∞Âª∫Êñá‰ª∂">+</button>
                    <button class="btn-icon" onclick="importFile()" title="ÂØºÂÖ•Êñá‰ª∂">üìÅ</button>
                    <button class="btn-icon" onclick="exportCurrentFile()" title="ÂØºÂá∫">üíæ</button>
                </div>
            </div>
            <div class="file-list" id="fileList">
                <!-- Êñá‰ª∂ÂàóË°®Â∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
            </div>
        </aside>

        <!-- ‰∏ªÂÜÖÂÆπÂå∫ -->
        <main class="main-content">
            <!-- Â∑•ÂÖ∑Ê†è -->
            <header class="toolbar">
                <div class="toolbar-left">
                    <button class="menu-toggle" onclick="toggleSidebar()">‚ò∞</button>
                    <span id="currentFileName" style="font-weight: 600;">Êú™ÂëΩÂêçÊñáÊ°£</span>
                </div>
                <div class="toolbar-right">
                    <!-- ‰∏ªÈ¢òÂàáÊç¢Âô®ÁßªÂà∞È°∂ÈÉ® -->
                    <div class="toolbar-theme">
                        <span class="toolbar-theme-label">‰∏ªÈ¢ò</span>
                        <div class="toolbar-theme-options">
                            <button class="toolbar-theme-btn theme-simple-btn active" data-theme="simple" onclick="setTheme('simple')" title="ÁÆÄÁ∫¶"></button>
                            <button class="toolbar-theme-btn theme-literary-btn" data-theme="literary" onclick="setTheme('literary')" title="ÊñáËâ∫"></button>
                            <button class="toolbar-theme-btn theme-business-btn" data-theme="business" onclick="setTheme('business')" title="ÂïÜÂä°"></button>
                            <button class="toolbar-theme-btn theme-cartoon-btn" data-theme="cartoon" onclick="setTheme('cartoon')" title="Âç°ÈÄö"></button>
                        </div>
                    </div>
                    
                    <div style="width: 1px; height: 24px; background: var(--border-color); margin: 0 10px;"></div>
                    
                    <button class="btn-icon" onclick="copyContent()" title="‰∏ÄÈîÆÂ§çÂà∂" style="margin-right: 10px;">
                        üìã
                    </button>
                    <div class="view-modes">
                        <button class="view-mode-btn active" onclick="setViewMode('edit')" data-mode="edit">ÁºñËæë</button>
                        <button class="view-mode-btn" onclick="setViewMode('split')" data-mode="split">ÂàÜÊ†è</button>
                        <button class="view-mode-btn" onclick="setViewMode('preview')" data-mode="preview">È¢ÑËßà</button>
                    </div>
                </div>
            </header>

            <!-- ÂèØÊäòÂè†Ê®°ÊùøÊ†è -->
            <div class="template-bar-wrapper collapsed" id="templateBarWrapper">
                <div class="template-bar-header" onclick="toggleTemplateBar()">
                    <div class="template-bar-title">
                        <span>üìã</span>
                        <span>Âø´ÈÄüÊ®°Êùø</span>
                        <span style="font-size: 0.8rem; opacity: 0.6; font-weight: normal;">(ÁÇπÂáªÂ±ïÂºÄ)</span>
                    </div>
                    <div class="template-bar-toggle">‚ñº</div>
                </div>
                <div class="template-bar" id="templateBar">
                    <span class="template-bar-label">ÈÄâÊã©Ê®°ÊùøÔºö</span>
                    <div class="template-chips" id="templateChips">
                        <div class="template-chip active" onclick="applyTemplate('blank')">
                            <span class="template-chip-icon">üìù</span>
                            <span>Á©∫ÁôΩÊñáÊ°£</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÁºñËæëÂô®Âå∫Âüü -->
            <div class="editor-container" id="editorContainer">
                <div class="editor-pane">
                    <div class="editor-header">
                        <span>Markdown Ê∫êÁ†Å</span>
                        <span id="wordCount">0 Â≠ó</span>
                    </div>
                    <textarea class="editor-textarea" id="editor" placeholder="ÂºÄÂßãÁºñÂÜô Markdown..." oninput="updatePreview()"></textarea>
                </div>
                <div class="preview-pane" id="previewPane">
                    <div class="preview-content" id="preview">
                        <div class="empty-state">
                            <div class="empty-icon">üìù</div>
                            <div class="empty-text">ÂºÄÂßãÁºñÂÜô Markdown</div>
                            <div class="empty-hint">Â∑¶‰æßËæìÂÖ• Markdown ËØ≠Ê≥ïÔºåÂè≥‰æßÂÆûÊó∂È¢ÑËßà</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Êñ∞Âª∫Êñá‰ª∂Ê®°ÊÄÅÊ°Ü -->
    <div class="modal" id="newFileModal">
        <div class="modal-content">
            <div class="modal-title">üìÑ Êñ∞Âª∫Êñá‰ª∂</div>
            <input type="text" class="modal-input" id="newFileName" placeholder="ËæìÂÖ•Êñá‰ª∂ÂêçÔºàÂ¶ÇÔºöÁ¨îËÆ∞.mdÔºâ" onkeypress="if(event.key==='Enter')confirmNewFile()">
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal('newFileModal')">ÂèñÊ∂à</button>
                <button class="btn btn-primary" onclick="confirmNewFile()">ÂàõÂª∫</button>
            </div>
        </div>
    </div>

    <!-- ÈáçÂëΩÂêçÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="renameModal">
        <div class="modal-content">
            <div class="modal-title">‚úèÔ∏è ÈáçÂëΩÂêçÊñá‰ª∂</div>
            <input type="text" class="modal-input" id="renameInput" placeholder="Êñ∞Êñá‰ª∂Âêç" onkeypress="if(event.key==='Enter')confirmRename()">
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal('renameModal')">ÂèñÊ∂à</button>
                <button class="btn btn-primary" onclick="confirmRename()">Á°ÆËÆ§</button>
            </div>
        </div>
    </div>

    <!-- Ê®°ÊùøÈÄâÊã©Ê®°ÊÄÅÊ°Ü -->
    <div class="modal" id="templateModal">
        <div class="modal-content" style="max-width: 700px; max-height: 80vh; overflow-y: auto;">
            <div class="modal-title">üìã ÈÄâÊã©È¢ÑËÆæÊ®°Êùø</div>
            <div class="template-grid" id="templateGrid">
                <!-- Ê®°ÊùøÂàóË°®Â∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
            </div>
            <div class="modal-actions" style="margin-top: 20px;">
                <button class="btn btn-secondary" onclick="closeModal('templateModal')">ÂèñÊ∂à</button>
            </div>
        </div>
    </div>

    <!-- Êñá‰ª∂ËæìÂÖ• -->
    <input type="file" class="file-input" id="fileInput" accept=".md,.markdown,.txt" onchange="handleFileImport(event)">

    <!-- Toast ÊèêÁ§∫ -->
    <div class="toast" id="toast"></div>

    <script>
        // Êï∞ÊçÆÂ≠òÂÇ®
        let files = JSON.parse(localStorage.getItem('mdFiles')) || [];
        let currentFileId = localStorage.getItem('currentFileId') || null;
        let currentViewMode = 'edit';
        let renameFileId = null;

        // È¢ÑËÆæÊ®°Êùø
        const templates = [
            {
                id: 'blank',
                name: 'Á©∫ÁôΩÊñáÊ°£',
                icon: 'üìù',
                desc: '‰ªéÈõ∂ÂºÄÂßãÂàõ‰Ωú',
                content: ''
            },
            {
                id: 'reading-notes',
                name: 'ËØª‰π¶Á¨îËÆ∞',
                icon: 'üìö',
                desc: 'ËÆ∞ÂΩï‰π¶Á±çÈòÖËØªÂøÉÂæó',
                content: `# „Ää‰π¶Âêç„ÄãËØª‰π¶Á¨îËÆ∞

**‰ΩúËÄÖÔºö** [‰ΩúËÄÖÂßìÂêç]  
**ÈòÖËØªÊó∂Èó¥Ôºö** [ÂºÄÂßãÊó•Êúü] - [ÁªìÊùüÊó•Êúü]  
**Êé®ËçêÊåáÊï∞Ôºö** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

---

## ‰π¶Á±çÁÆÄ‰ªã

[ÁÆÄË¶Å‰ªãÁªçËøôÊú¨‰π¶ÁöÑÂÜÖÂÆπ„ÄÅËÉåÊôØÂíå‰∏ªÈ¢ò]

## Ê†∏ÂøÉËßÇÁÇπ

### 1. [ËßÇÁÇπ‰∏ÄÊ†áÈ¢ò]

- Ë¶ÅÁÇπ1
- Ë¶ÅÁÇπ2
- Ë¶ÅÁÇπ3

### 2. [ËßÇÁÇπ‰∫åÊ†áÈ¢ò]

- Ë¶ÅÁÇπ1
- Ë¶ÅÁÇπ2

## Á≤æÂΩ©ÊëòÂΩï

> [ÊëòÂΩïÂéüÊñá]
> 
> ‚Äî‚Äî È°µÁ†ÅÔºö[È°µÁ†Å]

## ‰∏™‰∫∫ÊÑüÊÇü

[ËÆ∞ÂΩï‰Ω†ÁöÑÊÄùËÄÉ„ÄÅÂêØÂèëÂíåÊÑüÊÇü]

## Ë°åÂä®ËÆ°Âàí

- [ ] [Ë°åÂä®È°π1]
- [ ] [Ë°åÂä®È°π2]
- [ ] [Ë°åÂä®È°π3]

---

**ÊÄªÁªìÔºö** [Áî®Âá†Âè•ËØùÊÄªÁªìËøôÊú¨‰π¶ÂØπ‰Ω†ÁöÑÂΩ±Âìç]`
            },
            {
                id: 'weekly-report',
                name: 'Â∑•‰ΩúÂë®Êä•',
                icon: 'üìä',
                desc: 'ÊØèÂë®Â∑•‰ΩúÊÄªÁªìÊ±áÊä•',
                content: `# Â∑•‰ΩúÂë®Êä•

**Ê±áÊä•‰∫∫Ôºö** [ÂßìÂêç]  
**Ê±áÊä•Âë®ÊúüÔºö** [ÂºÄÂßãÊó•Êúü] - [ÁªìÊùüÊó•Êúü]  
**ÈÉ®Èó®Ôºö** [ÈÉ®Èó®ÂêçÁß∞]

---

## ‰∏Ä„ÄÅÊú¨Âë®Â∑•‰ΩúÊÄªÁªì

### 1. Â∑≤ÂÆåÊàêÂ∑•‰Ωú

| Â∫èÂè∑ | Â∑•‰ΩúÂÜÖÂÆπ | ÂÆåÊàêÊÉÖÂÜµ | Â§áÊ≥® |
|------|----------|----------|------|
| 1 | [Â∑•‰Ωú1] | ‚úÖ Â∑≤ÂÆåÊàê | |
| 2 | [Â∑•‰Ωú2] | ‚úÖ Â∑≤ÂÆåÊàê | |
| 3 | [Â∑•‰Ωú3] | ‚è≥ ËøõË°å‰∏≠ | |

### 2. Â∑•‰Ωú‰∫ÆÁÇπ

- [‰∫ÆÁÇπ1]
- [‰∫ÆÁÇπ2]
- [‰∫ÆÁÇπ3]

## ‰∫å„ÄÅÈóÆÈ¢ò‰∏éÂõ∞Èöæ

### ÈÅáÂà∞ÁöÑÈóÆÈ¢ò

1. **ÈóÆÈ¢ò1Ôºö** [ÊèèËø∞]
   - Ëß£ÂÜ≥ÊñπÊ°àÔºö[ÊñπÊ°à]
   
2. **ÈóÆÈ¢ò2Ôºö** [ÊèèËø∞]
   - Ëß£ÂÜ≥ÊñπÊ°àÔºö[ÊñπÊ°à]

## ‰∏â„ÄÅ‰∏ãÂë®Â∑•‰ΩúËÆ°Âàí

| ‰ºòÂÖàÁ∫ß | Â∑•‰ΩúÂÜÖÂÆπ | ÁõÆÊ†á | Êà™Ê≠¢Êó∂Èó¥ |
|--------|----------|------|----------|
| P0 | [ÈáçË¶ÅÂ∑•‰Ωú] | [ÁõÆÊ†á] | [Êó•Êúü] |
| P1 | [Ê¨°Ë¶ÅÂ∑•‰Ωú] | [ÁõÆÊ†á] | [Êó•Êúü] |
| P2 | [ÂÖ∂‰ªñÂ∑•‰Ωú] | [ÁõÆÊ†á] | [Êó•Êúü] |

## Âõõ„ÄÅÈúÄË¶ÅÊîØÊåÅ

- [ÊîØÊåÅÈ°π1]
- [ÊîØÊåÅÈ°π2]

---

**Â§áÊ≥®Ôºö** [ÂÖ∂‰ªñÈúÄË¶ÅËØ¥ÊòéÁöÑ‰∫ãÈ°π]`
            },
            {
                id: 'meeting-notes',
                name: '‰ºöËÆÆËÆ∞ÂΩï',
                icon: 'üìù',
                desc: '‰ºöËÆÆÁ∫™Ë¶ÅÂíåÂÜ≥ËÆÆ',
                content: `# ‰ºöËÆÆËÆ∞ÂΩï

**‰ºöËÆÆ‰∏ªÈ¢òÔºö** [‰ºöËÆÆ‰∏ªÈ¢ò]  
**‰ºöËÆÆÊó∂Èó¥Ôºö** [Êó•Êúü] [ÂºÄÂßãÊó∂Èó¥] - [ÁªìÊùüÊó∂Èó¥]  
**‰ºöËÆÆÂú∞ÁÇπÔºö** [Âú∞ÁÇπ/Á∫ø‰∏äÈìæÊé•]  
**‰∏ªÊåÅ‰∫∫Ôºö** [ÂßìÂêç]  
**ËÆ∞ÂΩï‰∫∫Ôºö** [ÂßìÂêç]  
**ÂèÇ‰ºö‰∫∫ÂëòÔºö** [ÂßìÂêç1]„ÄÅ[ÂßìÂêç2]„ÄÅ[ÂßìÂêç3]

---

## ‰∏Ä„ÄÅ‰ºöËÆÆËÆÆÁ®ã

1. [ËÆÆÈ¢ò1]
2. [ËÆÆÈ¢ò2]
3. [ËÆÆÈ¢ò3]

## ‰∫å„ÄÅËÆ®ËÆ∫ÂÜÖÂÆπ

### ËÆÆÈ¢ò1Ôºö[ËÆÆÈ¢òÊ†áÈ¢ò]

**ËÉåÊôØÔºö**
[ËÉåÊôØËØ¥Êòé]

**ËÆ®ËÆ∫Ë¶ÅÁÇπÔºö**
- [Ë¶ÅÁÇπ1]
- [Ë¶ÅÁÇπ2]
- [Ë¶ÅÁÇπ3]

**ÁªìËÆ∫Ôºö**
[ËææÊàêÁöÑÂÖ±ËØÜÊàñÂÜ≥ÂÆö]

### ËÆÆÈ¢ò2Ôºö[ËÆÆÈ¢òÊ†áÈ¢ò]

**ËÉåÊôØÔºö**
[ËÉåÊôØËØ¥Êòé]

**ËÆ®ËÆ∫Ë¶ÅÁÇπÔºö**
- [Ë¶ÅÁÇπ1]
- [Ë¶ÅÁÇπ2]

**ÁªìËÆ∫Ôºö**
[ËææÊàêÁöÑÂÖ±ËØÜÊàñÂÜ≥ÂÆö]

## ‰∏â„ÄÅË°åÂä®È°π

| Â∫èÂè∑ | Ë°åÂä®È°π | Ë¥üË¥£‰∫∫ | Êà™Ê≠¢Êó•Êúü | Áä∂ÊÄÅ |
|------|--------|--------|----------|------|
| 1 | [Ë°åÂä®1] | [ÂßìÂêç] | [Êó•Êúü] | ‚è≥ ÂæÖÂäû |
| 2 | [Ë°åÂä®2] | [ÂßìÂêç] | [Êó•Êúü] | ‚è≥ ÂæÖÂäû |
| 3 | [Ë°åÂä®3] | [ÂßìÂêç] | [Êó•Êúü] | ‚è≥ ÂæÖÂäû |

## Âõõ„ÄÅ‰∏ãÊ¨°‰ºöËÆÆ

- **Êó∂Èó¥Ôºö** [Êó•Êúü] [Êó∂Èó¥]
- **‰∏ªÈ¢òÔºö** [‰∏ªÈ¢ò]

---

**ËÆ∞ÂΩïÊó∂Èó¥Ôºö** [ËÆ∞ÂΩïÂÆåÊàêÊó∂Èó¥]`
            },
            {
                id: 'project-doc',
                name: 'È°πÁõÆÊñáÊ°£',
                icon: 'üöÄ',
                desc: 'È°πÁõÆËØ¥ÊòéÂíåËÆ°Âàí',
                content: `# [È°πÁõÆÂêçÁß∞]

**ÁâàÊú¨Ôºö** v1.0  
**ÂàõÂª∫Êó•ÊúüÔºö** [Êó•Êúü]  
**ÊúÄÂêéÊõ¥Êñ∞Ôºö** [Êó•Êúü]  
**Ë¥üË¥£‰∫∫Ôºö** [ÂßìÂêç]

---

## ‰∏Ä„ÄÅÈ°πÁõÆÊ¶ÇËø∞

### 1.1 È°πÁõÆËÉåÊôØ

[ÊèèËø∞È°πÁõÆÁöÑËÉåÊôØ„ÄÅËµ∑Âõ†ÂíåÂøÖË¶ÅÊÄß]

### 1.2 È°πÁõÆÁõÆÊ†á

- **‰∏ªË¶ÅÁõÆÊ†áÔºö** [ÁõÆÊ†á1]
- **Ê¨°Ë¶ÅÁõÆÊ†áÔºö** [ÁõÆÊ†á2]
- **ÊàêÂäüÊ†áÂáÜÔºö** [Ë°°ÈáèÊ†áÂáÜ]

### 1.3 È°πÁõÆËåÉÂõ¥

**ÂåÖÂê´ËåÉÂõ¥Ôºö**
- [ËåÉÂõ¥1]
- [ËåÉÂõ¥2]

**‰∏çÂåÖÂê´ËåÉÂõ¥Ôºö**
- [ËåÉÂõ¥1]
- [ËåÉÂõ¥2]

## ‰∫å„ÄÅÈ°πÁõÆËÆ°Âàí

### 2.1 ÈáåÁ®ãÁ¢ë

| Èò∂ÊÆµ | ÈáåÁ®ãÁ¢ë | ËÆ°ÂàíÊó•Êúü | Áä∂ÊÄÅ |
|------|--------|----------|------|
| 1 | [ÈáåÁ®ãÁ¢ë1] | [Êó•Êúü] | üü° ËÆ°Âàí‰∏≠ |
| 2 | [ÈáåÁ®ãÁ¢ë2] | [Êó•Êúü] | ‚ö™ Êú™ÂºÄÂßã |
| 3 | [ÈáåÁ®ãÁ¢ë3] | [Êó•Êúü] | ‚ö™ Êú™ÂºÄÂßã |

### 2.2 ‰ªªÂä°ÂàÜËß£

- [ ] **‰ªªÂä°1Ôºö** [ÊèèËø∞]
  - Ë¥üË¥£‰∫∫Ôºö[ÂßìÂêç]
  - Êà™Ê≠¢Êó•ÊúüÔºö[Êó•Êúü]
  
- [ ] **‰ªªÂä°2Ôºö** [ÊèèËø∞]
  - Ë¥üË¥£‰∫∫Ôºö[ÂßìÂêç]
  - Êà™Ê≠¢Êó•ÊúüÔºö[Êó•Êúü]

## ‰∏â„ÄÅÈ°πÁõÆÂõ¢Èòü

| ËßíËâ≤ | ÂßìÂêç | ËÅåË¥£ | ËÅîÁ≥ªÊñπÂºè |
|------|------|------|----------|
| È°πÁõÆÁªèÁêÜ | [ÂßìÂêç] | [ËÅåË¥£] | [ÈÇÆÁÆ±] |
| ÊäÄÊúØË¥üË¥£‰∫∫ | [ÂßìÂêç] | [ËÅåË¥£] | [ÈÇÆÁÆ±] |
| ‰∫ßÂìÅÁªèÁêÜ | [ÂßìÂêç] | [ËÅåË¥£] | [ÈÇÆÁÆ±] |

## Âõõ„ÄÅÈ£éÈô©ÁÆ°ÁêÜ

| È£éÈô© | ÂèØËÉΩÊÄß | ÂΩ±Âìç | Â∫îÂØπÊé™ÊñΩ |
|------|--------|------|----------|
| [È£éÈô©1] | È´ò/‰∏≠/‰Ωé | È´ò/‰∏≠/‰Ωé | [Êé™ÊñΩ] |
| [È£éÈô©2] | È´ò/‰∏≠/‰Ωé | È´ò/‰∏≠/‰Ωé | [Êé™ÊñΩ] |

## ‰∫î„ÄÅËµÑÊ∫êÈúÄÊ±Ç

- **‰∫∫ÂäõËµÑÊ∫êÔºö** [ÈúÄÊ±Ç]
- **ÊäÄÊúØËµÑÊ∫êÔºö** [ÈúÄÊ±Ç]
- **È¢ÑÁÆóÔºö** [ÈáëÈ¢ù]

---

**ÊñáÊ°£ÂÆ°ÊâπÔºö**
- [ ] È°πÁõÆÁªèÁêÜ
- [ ] ÊäÄÊúØË¥üË¥£‰∫∫
- [ ] ‰∫ßÂìÅÁªèÁêÜ`
            },
            {
                id: 'blog-post',
                name: 'ÂçöÂÆ¢ÊñáÁ´†',
                icon: 'üìù',
                desc: 'ÊäÄÊúØÊàñÁîüÊ¥ªÂçöÂÆ¢',
                content: `# [ÊñáÁ´†Ê†áÈ¢ò]

**‰ΩúËÄÖÔºö** [‰Ω†ÁöÑÂêçÂ≠ó]  
**ÂèëÂ∏ÉÊó∂Èó¥Ôºö** [Êó•Êúü]  
**ÂàÜÁ±ªÔºö** [ÂàÜÁ±ª]  
**Ê†áÁ≠æÔºö** [Ê†áÁ≠æ1], [Ê†áÁ≠æ2], [Ê†áÁ≠æ3]

---

## ÂºïË®Ä

[Áî®Âá†Âè•ËØùÂºïÂá∫ÊñáÁ´†‰∏ªÈ¢òÔºåÂê∏ÂºïËØªËÄÖÁªßÁª≠ÈòÖËØª]

## Ê≠£Êñá

### Á¨¨‰∏ÄÈÉ®ÂàÜÔºö[Â∞èÊ†áÈ¢ò]

[ÂÜÖÂÆπÊÆµËêΩ...]

**ÈáçÁÇπÂÜÖÂÆπÔºö**

- Ë¶ÅÁÇπ1
- Ë¶ÅÁÇπ2
- Ë¶ÅÁÇπ3

### Á¨¨‰∫åÈÉ®ÂàÜÔºö[Â∞èÊ†áÈ¢ò]

[ÂÜÖÂÆπÊÆµËêΩ...]

> üí° **ÊèêÁ§∫Ôºö** [ÈáçË¶ÅÊèêÁ§∫ÊàñÂª∫ËÆÆ]

### Á¨¨‰∏âÈÉ®ÂàÜÔºö[Â∞èÊ†áÈ¢ò]

[ÂÜÖÂÆπÊÆµËêΩ...]

\`\`\`[ËØ≠Ë®Ä]
// ‰ª£Á†ÅÁ§∫‰æã
function example() {
    console.log("Hello World");
}
\`\`\`

## ÊÄªÁªì

[ÊÄªÁªìÊñáÁ´†Ë¶ÅÁÇπ]

## ÂèÇËÄÉËµÑÊñô

1. [ÈìæÊé•1](https://example.com)
2. [ÈìæÊé•2](https://example.com)
3. [ÈìæÊé•3](https://example.com)

---

**Â¶ÇÊûú‰Ω†ËßâÂæóËøôÁØáÊñáÁ´†ÊúâÂ∏ÆÂä©ÔºåÊ¨¢ËøéÂàÜ‰∫´ÂíåÁïôË®ÄÔºÅ** üëè`
            },
            {
                id: 'todo-list',
                name: 'ÂæÖÂäûÊ∏ÖÂçï',
                icon: '‚úÖ',
                desc: '‰ªªÂä°ÁÆ°ÁêÜÂíåËøΩË∏™',
                content: `# ÂæÖÂäû‰∫ãÈ°πÊ∏ÖÂçï

**ÂàõÂª∫Êó•ÊúüÔºö** [Êó•Êúü]  
**Êõ¥Êñ∞Êó•ÊúüÔºö** [Êó•Êúü]

---

## üî¥ È´ò‰ºòÂÖàÁ∫ß

- [ ] **[‰ªªÂä°1]** - Êà™Ê≠¢Êó•ÊúüÔºö[Êó•Êúü]
  - Â§áÊ≥®Ôºö[Ë°•ÂÖÖËØ¥Êòé]
  
- [ ] **[‰ªªÂä°2]** - Êà™Ê≠¢Êó•ÊúüÔºö[Êó•Êúü]
  - Â§áÊ≥®Ôºö[Ë°•ÂÖÖËØ¥Êòé]

- [ ] **[‰ªªÂä°3]** - Êà™Ê≠¢Êó•ÊúüÔºö[Êó•Êúü]
  - Â§áÊ≥®Ôºö[Ë°•ÂÖÖËØ¥Êòé]

## üü° ‰∏≠‰ºòÂÖàÁ∫ß

- [ ] **[‰ªªÂä°1]** - Êà™Ê≠¢Êó•ÊúüÔºö[Êó•Êúü]
  - Â§áÊ≥®Ôºö[Ë°•ÂÖÖËØ¥Êòé]
  
- [ ] **[‰ªªÂä°2]** - Êà™Ê≠¢Êó•ÊúüÔºö[Êó•Êúü]
  - Â§áÊ≥®Ôºö[Ë°•ÂÖÖËØ¥Êòé]

## üü¢ ‰Ωé‰ºòÂÖàÁ∫ß

- [ ] **[‰ªªÂä°1]** - Êà™Ê≠¢Êó•ÊúüÔºö[Êó•Êúü]
  - Â§áÊ≥®Ôºö[Ë°•ÂÖÖËØ¥Êòé]
  
- [ ] **[‰ªªÂä°2]** - Êà™Ê≠¢Êó•ÊúüÔºö[Êó•Êúü]
  - Â§áÊ≥®Ôºö[Ë°•ÂÖÖËØ¥Êòé]

## ‚úÖ Â∑≤ÂÆåÊàê

- [x] **[‰ªªÂä°1]** - ÂÆåÊàêÊó•ÊúüÔºö[Êó•Êúü]
  - ÁªìÊûúÔºö[ÂÆåÊàêÁªìÊûú]
  
- [x] **[‰ªªÂä°2]** - ÂÆåÊàêÊó•ÊúüÔºö[Êó•Êúü]
  - ÁªìÊûúÔºö[ÂÆåÊàêÁªìÊûú]

---

## üìä ÁªüËÆ°

- ÊÄª‰ªªÂä°Êï∞Ôºö[Êï∞Èáè]
- Â∑≤ÂÆåÊàêÔºö[Êï∞Èáè]
- ËøõË°å‰∏≠Ôºö[Êï∞Èáè]
- ÂÆåÊàêÁéáÔºö[ÁôæÂàÜÊØî]%

## üìù Â§áÊ≥®

[ÂÖ∂‰ªñÈúÄË¶ÅËÆ∞ÂΩïÁöÑ‰ø°ÊÅØ]`
            },
            {
                id: 'daily-journal',
                name: 'ÊØèÊó•Êó•ËÆ∞',
                icon: 'üìî',
                desc: 'ËÆ∞ÂΩïÊØèÊó•ÁîüÊ¥ªÊÑüÊÇü',
                content: `# [Êó•Êúü] ÊòüÊúü[X] [Â§©Ê∞î]

**Âú∞ÁÇπÔºö** [Âú∞ÁÇπ]  
**ÂøÉÊÉÖÔºö** [ÂøÉÊÉÖË°®ÊÉÖ]

---

## ‰ªäÊó•Ê¶ÇËßà

[Áî®Âá†Âè•ËØùÊÄªÁªì‰ªäÂ§©ÁöÑ‰∏ªË¶ÅÊ¥ªÂä®ÂíåÊÑüÂèó]

## ËØ¶ÁªÜËÆ∞ÂΩï

### ‰∏äÂçà

[‰∏äÂçàÂèëÁîüÁöÑ‰∫ãÊÉÖ...]

### ‰∏ãÂçà

[‰∏ãÂçàÂèëÁîüÁöÑ‰∫ãÊÉÖ...]

### Êôö‰∏ä

[Êôö‰∏äÂèëÁîüÁöÑ‰∫ãÊÉÖ...]

## ‰ªäÊó•Êî∂Ëé∑

- **Â≠¶Âà∞ÁöÑÁü•ËØÜÔºö** [Áü•ËØÜÁÇπ]
- **ÈÅáÂà∞ÁöÑÊåëÊàòÔºö** [ÊåëÊàò]
- **Ëß£ÂÜ≥ÊñπÊ≥ïÔºö** [ÊñπÊ≥ï]

## ÊÑüÊÅ©Êó∂Âàª

> [‰ªäÂ§©ÂÄºÂæóÊÑüÊÅ©ÁöÑ‰∫∫Êàñ‰∫ã]

## ÊòéÊó•ËÆ°Âàí

- [ ] [ËÆ°Âàí1]
- [ ] [ËÆ°Âàí2]
- [ ] [ËÆ°Âàí3]

## ÂøÉÊÉÖÈöèÁ¨î

[Ëá™Áî±‰π¶ÂÜôÂå∫ÔºåËÆ∞ÂΩï‰ªª‰ΩïÊÉ≥Ê≥ïÂíåÊÑüÂèó]

---

**‰ªäÊó•ËØÑÂàÜÔºö** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê`
            },
            {
                id: 'travel-plan',
                name: 'ÊóÖË°åËÆ°Âàí',
                icon: '‚úàÔ∏è',
                desc: 'ÊóÖË°åË°åÁ®ãÂíåÊîªÁï•',
                content: `# [ÁõÆÁöÑÂú∞] ÊóÖË°åËÆ°Âàí

**ÊóÖË°åÊó∂Èó¥Ôºö** [ÂºÄÂßãÊó•Êúü] - [ÁªìÊùüÊó•Êúü]  
**ÊóÖË°åÂ§©Êï∞Ôºö** [X] Â§©  
**ÊóÖË°å‰∫∫Êï∞Ôºö** [X] ‰∫∫  
**È¢ÑÁÆóÔºö** [ÈáëÈ¢ù] ÂÖÉ

---

## Ë°åÁ®ãÊ¶ÇËßà

| Êó•Êúü | ÊòüÊúü | ‰∏ªË¶ÅÊ¥ªÂä® | ‰ΩèÂÆø |
|------|------|----------|------|
| Day 1 | [ÊòüÊúü] | [Ê¥ªÂä®] | [ÈÖíÂ∫ó] |
| Day 2 | [ÊòüÊúü] | [Ê¥ªÂä®] | [ÈÖíÂ∫ó] |
| Day 3 | [ÊòüÊúü] | [Ê¥ªÂä®] | [ÈÖíÂ∫ó] |

## ËØ¶ÁªÜË°åÁ®ã

### Day 1Ôºö[Êó•Êúü]

**‰∏äÂçàÔºö**
- [Ê¥ªÂä®1]
- [Ê¥ªÂä®2]

**‰∏ãÂçàÔºö**
- [Ê¥ªÂä®1]
- [Ê¥ªÂä®2]

**Êôö‰∏äÔºö**
- [Ê¥ªÂä®]

**‰ΩèÂÆøÔºö** [ÈÖíÂ∫óÂêçÁß∞ÂíåÂú∞ÂùÄ]

**È§êÈ•ÆÔºö**
- Êó©È§êÔºö[È§êÂéÖ]
- ÂçàÈ§êÔºö[È§êÂéÖ]
- ÊôöÈ§êÔºö[È§êÂéÖ]

---

### Day 2Ôºö[Êó•Êúü]

**‰∏äÂçàÔºö**
- [Ê¥ªÂä®1]
- [Ê¥ªÂä®2]

**‰∏ãÂçàÔºö**
- [Ê¥ªÂä®1]
- [Ê¥ªÂä®2]

**Êôö‰∏äÔºö**
- [Ê¥ªÂä®]

**‰ΩèÂÆøÔºö** [ÈÖíÂ∫óÂêçÁß∞ÂíåÂú∞ÂùÄ]

---

## ‰∫§ÈÄöÂÆâÊéí

### Â§ß‰∫§ÈÄö
- **ÂéªÁ®ãÔºö** [‰∫§ÈÄöÂ∑•ÂÖ∑] [Êó∂Èó¥] [Áè≠Ê¨°]
- **ËøîÁ®ãÔºö** [‰∫§ÈÄöÂ∑•ÂÖ∑] [Êó∂Èó¥] [Áè≠Ê¨°]

### ÂΩìÂú∞‰∫§ÈÄö
- [‰∫§ÈÄöÊñπÂºè1]
- [‰∫§ÈÄöÊñπÂºè2]

## ‰ΩèÂÆø‰ø°ÊÅØ

| Êó•Êúü | ÈÖíÂ∫óÂêçÁß∞ | Âú∞ÂùÄ | ‰ª∑Ê†º | È¢ÑËÆ¢Âè∑ |
|------|----------|------|------|--------|
| [Êó•Êúü] | [ÈÖíÂ∫ó] | [Âú∞ÂùÄ] | [‰ª∑Ê†º] | [Âè∑Á†Å] |

## ÂøÖÂ∏¶Áâ©ÂìÅÊ∏ÖÂçï

- [ ] Ë∫´‰ªΩËØÅ/Êä§ÁÖß
- [ ] ÊâãÊú∫ÂÖÖÁîµÂô®
- [ ] Ê¥óÊº±Áî®ÂìÅ
- [ ] Êç¢Ê¥óË°£Áâ©
- [ ] Áõ∏Êú∫
- [ ] Èõ®‰ºû
- [ ] Â∏∏Áî®ËçØÂìÅ
- [ ] [ÂÖ∂‰ªñÁâ©ÂìÅ]

## Á¥ßÊÄ•ËÅîÁ≥ª

- **ÂΩìÂú∞Êä•Ë≠¶Ôºö** [ÁîµËØù]
- **‰∏≠ÂõΩÈ¢Ü‰∫ãÈ¶ÜÔºö** [ÁîµËØù]
- **‰øùÈô©ÂÖ¨Âè∏Ôºö** [ÁîµËØù]
- **Á¥ßÊÄ•ËÅîÁ≥ª‰∫∫Ôºö** [ÂßìÂêç] [ÁîµËØù]

---

**Â§áÊ≥®Ôºö** [ÂÖ∂‰ªñÊ≥®ÊÑè‰∫ãÈ°π]`
            }
        ];

        // ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', () => {
            if (files.length === 0) {
                // ÂàõÂª∫ÈªòËÆ§Á§∫‰æãÊñá‰ª∂
                createDefaultFile();
            }
            renderFileList();
            loadCurrentFile();
            
            // Ê∏≤ÊüìÊ®°ÊùøÈÄâÊã©Êù°
            renderTemplateChips();
            
            // ËÆæÁΩÆÈªòËÆ§ËßÜÂõæÊ®°Âºè
            const container = document.getElementById('editorContainer');
            container.classList.add('edit-mode');
            
            // Âä†ËΩΩ‰øùÂ≠òÁöÑ‰∏ªÈ¢ò
            const savedTheme = localStorage.getItem('mdReaderTheme') || 'simple';
            setTheme(savedTheme);
            
            updatePreview();
        });

        // ÂàõÂª∫ÈªòËÆ§Êñá‰ª∂
        function createDefaultFile() {
            const defaultContent = `# Ê¨¢Ëøé‰ΩøÁî® Markdown ÈòÖËØªÂô®

ËøôÊòØ‰∏Ä‰∏™ÁÆÄÊ¥Å‰ºòÈõÖÁöÑ **Markdown** ÈòÖËØªÂô®ÂíåÁºñËæëÂô®„ÄÇ

## ÂäüËÉΩÁâπÁÇπ

- üìù **ÂÆûÊó∂È¢ÑËßà** - ÁºñËæëÊó∂Âç≥Êó∂Êü•ÁúãÊ∏≤ÊüìÊïàÊûú
- üìÅ **Êñá‰ª∂ÁÆ°ÁêÜ** - ËΩªÊùæÁÆ°ÁêÜÂ§ö‰∏™ Markdown Êñá‰ª∂
- üé® **Â§öÁßç‰∏ªÈ¢ò** - ÊîØÊåÅÁºñËæë„ÄÅÂàÜÊ†è„ÄÅÈ¢ÑËßà‰∏âÁßçÊ®°Âºè
- üíæ **Êú¨Âú∞Â≠òÂÇ®** - Ëá™Âä®‰øùÂ≠òÂà∞ÊµèËßàÂô®Êú¨Âú∞
- üì§ **ÂØºÂÖ•ÂØºÂá∫** - ÊîØÊåÅ .md Êñá‰ª∂ÁöÑÂØºÂÖ•ÂíåÂØºÂá∫

## Âø´ÈÄüÂºÄÂßã

1. ÁÇπÂáªÂ∑¶‰æß **+** ÊåâÈíÆÂàõÂª∫Êñ∞Êñá‰ª∂
2. Âú®ÁºñËæëÂå∫ËæìÂÖ• Markdown ÂÜÖÂÆπ
3. ÂàáÊç¢Âè≥‰∏äËßíÁöÑËßÜÂõæÊ®°ÂºèÊü•ÁúãÊïàÊûú
4. ÁÇπÂáª **üíæ** ÊåâÈíÆÂØºÂá∫Êñá‰ª∂

## Markdown ËØ≠Ê≥ïÁ§∫‰æã

### ÊñáÊú¨Ê†∑Âºè

**Âä†Á≤óÊñáÂ≠ó** Âíå *Êñú‰ΩìÊñáÂ≠ó*

~~Âà†Èô§Á∫ø~~ Âíå ==È´ò‰∫ÆÊñáÊú¨==

### ÂàóË°®

Êó†Â∫èÂàóË°®Ôºö
- È°πÁõÆ‰∏Ä
- È°πÁõÆ‰∫å
- È°πÁõÆ‰∏â

ÊúâÂ∫èÂàóË°®Ôºö
1. Á¨¨‰∏ÄÊ≠•
2. Á¨¨‰∫åÊ≠•
3. Á¨¨‰∏âÊ≠•

### ‰ª£Á†Å

Ë°åÂÜÖ‰ª£Á†ÅÔºö\`console.log('Hello')\`

‰ª£Á†ÅÂùóÔºö
\`\`\`javascript
function greeting() {
    console.log("Hello, World!");
}
\`\`\`

### ÂºïÁî®

> ËøôÊòØ‰∏ÄÊÆµÂºïÁî®ÊñáÊú¨„ÄÇ
> Markdown ËÆ©ÂÜô‰ΩúÂèòÂæóÁÆÄÂçï‰ºòÈõÖ„ÄÇ

### Ë°®Ê†º

| ÂäüËÉΩ | ÊèèËø∞ | Áä∂ÊÄÅ |
|------|------|------|
| ÁºñËæë | ÊîØÊåÅ Markdown ËØ≠Ê≥ï | ‚úÖ |
| È¢ÑËßà | ÂÆûÊó∂Ê∏≤ÊüìÊïàÊûú | ‚úÖ |
| ÂØºÂá∫ | ‰∏ãËΩΩ‰∏∫ .md Êñá‰ª∂ | ‚úÖ |

---

**ÂºÄÂßã‰Ω†ÁöÑ Markdown ‰πãÊóÖÂêßÔºÅ** üöÄ`;

            const newFile = {
                id: Date.now().toString(),
                name: 'Ê¨¢Ëøé‰ΩøÁî®.md',
                content: defaultContent,
                updatedAt: new Date().toISOString()
            };
            files.push(newFile);
            currentFileId = newFile.id;
            saveToStorage();
        }

        // Ê∏≤ÊüìÊñá‰ª∂ÂàóË°®
        function renderFileList() {
            const fileList = document.getElementById('fileList');
            fileList.innerHTML = '';

            // ÊåâÊõ¥Êñ∞Êó∂Èó¥ÊéíÂ∫è
            const sortedFiles = [...files].sort((a, b) => 
                new Date(b.updatedAt) - new Date(a.updatedAt)
            );

            sortedFiles.forEach(file => {
                const fileItem = document.createElement('div');
                fileItem.className = `file-item ${file.id === currentFileId ? 'active' : ''}`;
                fileItem.onclick = () => switchFile(file.id);
                fileItem.innerHTML = `
                    <span class="file-icon">üìÑ</span>
                    <span class="file-name">${file.name}</span>
                    <div class="file-actions">
                        <button class="btn-small" onclick="event.stopPropagation(); renameFile('${file.id}')" title="ÈáçÂëΩÂêç">‚úèÔ∏è</button>
                        <button class="btn-small" onclick="event.stopPropagation(); deleteFile('${file.id}')" title="Âà†Èô§">üóëÔ∏è</button>
                    </div>
                `;
                fileList.appendChild(fileItem);
            });
        }

        // ÂàáÊç¢Êñá‰ª∂
        function switchFile(fileId) {
            // ‰øùÂ≠òÂΩìÂâçÊñá‰ª∂
            saveCurrentFile();
            
            currentFileId = fileId;
            localStorage.setItem('currentFileId', currentFileId);
            
            loadCurrentFile();
            renderFileList();
        }

        // Âä†ËΩΩÂΩìÂâçÊñá‰ª∂
        function loadCurrentFile() {
            const file = files.find(f => f.id === currentFileId);
            if (file) {
                document.getElementById('editor').value = file.content;
                document.getElementById('currentFileName').textContent = file.name;
                updatePreview();
                updateWordCount();
            }
        }

        // ‰øùÂ≠òÂΩìÂâçÊñá‰ª∂
        function saveCurrentFile() {
            if (!currentFileId) return;
            
            const file = files.find(f => f.id === currentFileId);
            if (file) {
                file.content = document.getElementById('editor').value;
                file.updatedAt = new Date().toISOString();
                saveToStorage();
            }
        }

        // ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®
        function saveToStorage() {
            localStorage.setItem('mdFiles', JSON.stringify(files));
            localStorage.setItem('currentFileId', currentFileId);
        }

        // ÂàõÂª∫Êñ∞Êñá‰ª∂
        function createNewFile() {
            document.getElementById('newFileName').value = '';
            openModal('newFileModal');
            setTimeout(() => document.getElementById('newFileName').focus(), 100);
        }

        // Á°ÆËÆ§ÂàõÂª∫Êñ∞Êñá‰ª∂
        function confirmNewFile() {
            const name = document.getElementById('newFileName').value.trim();
            if (!name) {
                showToast('ËØ∑ËæìÂÖ•Êñá‰ª∂Âêç');
                return;
            }

            const fileName = name.endsWith('.md') ? name : name + '.md';
            
            const newFile = {
                id: Date.now().toString(),
                name: fileName,
                content: `# ${fileName.replace('.md', '')}\n\nÂºÄÂßãÁºñÂÜô...`,
                updatedAt: new Date().toISOString()
            };
            
            files.push(newFile);
            currentFileId = newFile.id;
            saveToStorage();
            
            renderFileList();
            loadCurrentFile();
            closeModal('newFileModal');
            showToast('Êñá‰ª∂ÂàõÂª∫ÊàêÂäü');
        }

        // ÈáçÂëΩÂêçÊñá‰ª∂
        function renameFile(fileId) {
            renameFileId = fileId;
            const file = files.find(f => f.id === fileId);
            document.getElementById('renameInput').value = file.name;
            openModal('renameModal');
            setTimeout(() => document.getElementById('renameInput').focus(), 100);
        }

        // Á°ÆËÆ§ÈáçÂëΩÂêç
        function confirmRename() {
            const newName = document.getElementById('renameInput').value.trim();
            if (!newName) {
                showToast('ËØ∑ËæìÂÖ•Êñá‰ª∂Âêç');
                return;
            }

            const file = files.find(f => f.id === renameFileId);
            if (file) {
                file.name = newName.endsWith('.md') ? newName : newName + '.md';
                file.updatedAt = new Date().toISOString();
                saveToStorage();
                renderFileList();
                if (renameFileId === currentFileId) {
                    document.getElementById('currentFileName').textContent = file.name;
                }
                showToast('ÈáçÂëΩÂêçÊàêÂäü');
            }
            closeModal('renameModal');
        }

        // Âà†Èô§Êñá‰ª∂
        function deleteFile(fileId) {
            if (files.length <= 1) {
                showToast('Ëá≥Â∞ë‰øùÁïô‰∏Ä‰∏™Êñá‰ª∂');
                return;
            }

            if (!confirm('Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™Êñá‰ª∂ÂêóÔºü')) return;

            files = files.filter(f => f.id !== fileId);
            
            if (currentFileId === fileId) {
                currentFileId = files[0].id;
                loadCurrentFile();
            }
            
            saveToStorage();
            renderFileList();
            showToast('Êñá‰ª∂Â∑≤Âà†Èô§');
        }

        // ÂØºÂÖ•Êñá‰ª∂
        function importFile() {
            document.getElementById('fileInput').click();
        }

        // Â§ÑÁêÜÊñá‰ª∂ÂØºÂÖ•
        function handleFileImport(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = (e) => {
                const newFile = {
                    id: Date.now().toString(),
                    name: file.name,
                    content: e.target.result,
                    updatedAt: new Date().toISOString()
                };
                
                files.push(newFile);
                currentFileId = newFile.id;
                saveToStorage();
                renderFileList();
                loadCurrentFile();
                showToast('Êñá‰ª∂ÂØºÂÖ•ÊàêÂäü');
            };
            reader.readAsText(file);
            
            // Ê∏ÖÁ©∫ input
            event.target.value = '';
        }

        // ÂØºÂá∫ÂΩìÂâçÊñá‰ª∂
        function exportCurrentFile() {
            const file = files.find(f => f.id === currentFileId);
            if (!file) return;

            const blob = new Blob([file.content], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = file.name;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('Êñá‰ª∂Â∑≤ÂØºÂá∫');
        }

        // Êõ¥Êñ∞È¢ÑËßà
        function updatePreview() {
            const content = document.getElementById('editor').value;
            const preview = document.getElementById('preview');
            
            if (!content.trim()) {
                preview.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üìù</div>
                        <div class="empty-text">ÂºÄÂßãÁºñÂÜô Markdown</div>
                        <div class="empty-hint">Â∑¶‰æßËæìÂÖ• Markdown ËØ≠Ê≥ïÔºåÂè≥‰æßÂÆûÊó∂È¢ÑËßà</div>
                    </div>
                `;
            } else {
                // ÈÖçÁΩÆ marked
                marked.setOptions({
                    highlight: function(code, lang) {
                        if (lang && hljs.getLanguage(lang)) {
                            return hljs.highlight(code, { language: lang }).value;
                        }
                        return hljs.highlightAuto(code).value;
                    },
                    breaks: true,
                    gfm: true
                });
                
                preview.innerHTML = marked.parse(content);
            }
            
            updateWordCount();
            
            // Ëá™Âä®‰øùÂ≠ò
            clearTimeout(window.saveTimeout);
            window.saveTimeout = setTimeout(() => {
                saveCurrentFile();
            }, 1000);
        }

        // Êõ¥Êñ∞Â≠óÊï∞ÁªüËÆ°
        function updateWordCount() {
            const content = document.getElementById('editor').value;
            const count = content.length;
            document.getElementById('wordCount').textContent = count + ' Â≠ó';
        }

        // ‰∏ÄÈîÆÂ§çÂà∂ÂäüËÉΩ
        function copyContent() {
            const content = document.getElementById('editor').value;
            
            if (!content.trim()) {
                showToast('Ê≤°ÊúâÂÜÖÂÆπÂèØÂ§çÂà∂');
                return;
            }

            // Ê†πÊçÆÂΩìÂâçÊ®°ÂºèÂÜ≥ÂÆöÂ§çÂà∂‰ªÄ‰πàÂÜÖÂÆπ
            let textToCopy = content;
            let successMessage = '‚úÖ Markdown ÂéüÊñáÂ∑≤Â§çÂà∂';

            // Â¶ÇÊûúÊòØÈ¢ÑËßàÊ®°ÂºèÔºåÂ§çÂà∂ÁöÑÊòØÊ∏≤ÊüìÂêéÁöÑ HTML
            if (currentViewMode === 'preview') {
                const previewContent = document.getElementById('preview').innerHTML;
                // ÂàõÂª∫‰∏¥Êó∂ÂÖÉÁ¥†Êù•Â§çÂà∂ HTML
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = previewContent;
                tempDiv.style.position = 'fixed';
                tempDiv.style.left = '-9999px';
                document.body.appendChild(tempDiv);
                
                const range = document.createRange();
                range.selectNode(tempDiv);
                const selection = window.getSelection();
                selection.removeAllRanges();
                selection.addRange(range);
                
                try {
                    document.execCommand('copy');
                    showToast('‚úÖ Ê∏≤ÊüìÂÜÖÂÆπÂ∑≤Â§çÂà∂');
                } catch (err) {
                    showToast('‚ùå Â§çÂà∂Â§±Ë¥•');
                }
                
                selection.removeAllRanges();
                document.body.removeChild(tempDiv);
                return;
            }

            // ÁºñËæëÊ®°ÂºèÊàñÂàÜÊ†èÊ®°ÂºèÔºöÂ§çÂà∂ Markdown ÂéüÊñá
            navigator.clipboard.writeText(textToCopy).then(() => {
                showToast(successMessage);
            }).catch(err => {
                // ÈôçÁ∫ßÊñπÊ°à
                const textarea = document.createElement('textarea');
                textarea.value = textToCopy;
                textarea.style.position = 'fixed';
                textarea.style.left = '-9999px';
                document.body.appendChild(textarea);
                textarea.select();
                
                try {
                    document.execCommand('copy');
                    showToast(successMessage);
                } catch (err) {
                    showToast('‚ùå Â§çÂà∂Â§±Ë¥•');
                }
                
                document.body.removeChild(textarea);
            });
        }

        // ËÆæÁΩÆËßÜÂõæÊ®°Âºè
        function setViewMode(mode) {
            currentViewMode = mode;
            const container = document.getElementById('editorContainer');
            const buttons = document.querySelectorAll('.view-mode-btn');
            
            buttons.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.mode === mode);
            });
            
            // ÁßªÈô§ÊâÄÊúâÊ®°ÂºèÁ±ª
            container.classList.remove('edit-mode', 'split-mode', 'preview-mode');
            
            // Ê†πÊçÆÊ®°ÂºèÊ∑ªÂä†ÂØπÂ∫îÁöÑÁ±ª
            switch(mode) {
                case 'edit':
                    container.classList.add('edit-mode');
                    break;
                case 'split':
                    container.classList.add('split-mode');
                    break;
                case 'preview':
                    container.classList.add('preview-mode');
                    break;
            }
            
            updatePreview();
        }

        // ËÆæÁΩÆ‰∏ªÈ¢ò
        function setTheme(themeName) {
            const previewPane = document.getElementById('previewPane');
            const preview = document.getElementById('preview');
            
            // ÁßªÈô§ÊâÄÊúâ‰∏ªÈ¢òÁ±ª
            previewPane.classList.remove('theme-simple', 'theme-literary', 'theme-business', 'theme-cartoon');
            preview.classList.remove('theme-simple', 'theme-literary', 'theme-business', 'theme-cartoon');
            
            // Ê∑ªÂä†Êñ∞‰∏ªÈ¢òÁ±ª
            previewPane.classList.add(`theme-${themeName}`);
            preview.classList.add(`theme-${themeName}`);
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.theme === themeName) {
                    btn.classList.add('active');
                }
            });
            
            // ‰øùÂ≠ò‰∏ªÈ¢òËÆæÁΩÆ
            localStorage.setItem('mdReaderTheme', themeName);
            
            // ÊòæÁ§∫ÊèêÁ§∫
            const themeNames = {
                'simple': 'ÁÆÄÁ∫¶ÈÄöÁî®Âûã',
                'literary': 'ÊñáËâ∫Ê∏ÖÊñ∞Âûã',
                'business': 'ÂïÜÂä°Â§ßÊ∞îÂûã',
                'cartoon': 'Ê¥ªÊ≥ºÂç°ÈÄöÈ£é'
            };
            showToast(`üé® Â∑≤ÂàáÊç¢Ëá≥${themeNames[themeName]}‰∏ªÈ¢ò`);
        }

        // ÂàáÊç¢‰æßËæπÊ†èÔºàÁßªÂä®Á´ØÔºâ
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // ÂàáÊç¢Ê®°ÊùøÊ†èÂ±ïÂºÄ/Êî∂Ëµ∑
        function toggleTemplateBar() {
            const wrapper = document.getElementById('templateBarWrapper');
            if (wrapper.classList.contains('collapsed')) {
                wrapper.classList.remove('collapsed');
                wrapper.classList.add('expanded');
            } else {
                wrapper.classList.remove('expanded');
                wrapper.classList.add('collapsed');
            }
        }

        // ÊòæÁ§∫Ê®°ÊùøÈÄâÊã©Ê®°ÊÄÅÊ°Ü
        function showTemplates() {
            const templateGrid = document.getElementById('templateGrid');
            templateGrid.innerHTML = '';
            
            templates.forEach(template => {
                const card = document.createElement('div');
                card.className = 'template-card';
                card.onclick = () => applyTemplate(template.id);
                card.innerHTML = `
                    <div class="template-icon">${template.icon}</div>
                    <div class="template-name">${template.name}</div>
                    <div class="template-desc">${template.desc}</div>
                `;
                templateGrid.appendChild(card);
            });
            
            openModal('templateModal');
        }

        // Â∫îÁî®Ê®°Êùø
        function applyTemplate(templateId) {
            const template = templates.find(t => t.id === templateId);
            if (!template) return;
            
            // Â°´ÂÖÖÊ®°ÊùøÂÜÖÂÆπ
            document.getElementById('editor').value = template.content;
            
            // Êõ¥Êñ∞Êñá‰ª∂Âêç
            const file = files.find(f => f.id === currentFileId);
            if (file) {
                // Â¶ÇÊûúÊñá‰ª∂ÂêçÊòØÈªòËÆ§ÁöÑÊàñËÄÖÊòØÁ©∫ÁôΩÊñáÊ°£ÔºåÂàôÊõ¥Êñ∞‰∏∫Ê®°ÊùøÂêçÁß∞
                if (file.name === 'Êú™ÂëΩÂêçÊñáÊ°£.md' || file.name === 'Ê¨¢Ëøé‰ΩøÁî®.md' || file.name === 'Á©∫ÁôΩÊñáÊ°£.md' || file.name.endsWith('.md') && (file.name.startsWith('Êú™ÂëΩÂêç') || file.name.startsWith('Á©∫ÁôΩ'))) {
                    file.name = template.name + '.md';
                    document.getElementById('currentFileName').textContent = file.name;
                    renderFileList();
                }
            }
            
            // Êõ¥Êñ∞Ê®°ÊùøchipsÁöÑactiveÁä∂ÊÄÅ
            document.querySelectorAll('.template-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // ‰øùÂ≠òÂπ∂Êõ¥Êñ∞È¢ÑËßà
            saveCurrentFile();
            updatePreview();
            
            // ÊòæÁ§∫ÊèêÁ§∫
            if (templateId !== 'blank') {
                showToast(`‚úÖ Â∑≤ÂàáÊç¢Ëá≥„Äå${template.name}„ÄçÊ®°Êùø`);
            }
        }

        // Ê∏≤ÊüìÊ®°Êùøchips
        function renderTemplateChips() {
            const container = document.getElementById('templateChips');
            // Ê∏ÖÁ©∫Áé∞ÊúâÂÜÖÂÆπÔºà‰øùÁïôÁ©∫ÁôΩÊñáÊ°£Ôºâ
            container.innerHTML = `
                <div class="template-chip active" onclick="applyTemplate('blank')">
                    <span class="template-chip-icon">üìù</span>
                    <span>Á©∫ÁôΩÊñáÊ°£</span>
                </div>
            `;
            
            // Ê∑ªÂä†ÂÖ∂‰ªñÊ®°ÊùøÔºàË∑≥ËøáÁ©∫ÁôΩÊñáÊ°£Ôºâ
            templates.slice(1).forEach(template => {
                const chip = document.createElement('div');
                chip.className = 'template-chip';
                chip.onclick = (e) => applyTemplate(template.id);
                chip.innerHTML = `
                    <span class="template-chip-icon">${template.icon}</span>
                    <span>${template.name}</span>
                `;
                container.appendChild(chip);
            });
        }

        // Ê®°ÊÄÅÊ°ÜÊìç‰Ωú
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // ÁÇπÂáªÊ®°ÊÄÅÊ°ÜÂ§ñÈÉ®ÂÖ≥Èó≠
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        });

        // Toast ÊèêÁ§∫
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // ÈîÆÁõòÂø´Êç∑ÈîÆ
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + S ‰øùÂ≠ò
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                saveCurrentFile();
                showToast('Â∑≤‰øùÂ≠ò');
            }
            
            // Ctrl/Cmd + N Êñ∞Âª∫
            if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                e.preventDefault();
                createNewFile();
            }
            
            // ESC ÂÖ≥Èó≠Ê®°ÊÄÅÊ°Ü
            if (e.key === 'Escape') {
                document.querySelectorAll('.modal.active').forEach(modal => {
                    modal.classList.remove('active');
                });
            }
        });
    </script>
</body>
</html>